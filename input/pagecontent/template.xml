<div xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir ../../src-generated/schemas/fhir-single.xsd">
<div>
<a name="summary"></a>
<h3>Summary</h3>

<p>Some projects may want to publish their IGs with a different look and feel or changed features. This can be done by creating a custom template (which is a template extension) in a local folder, and pointing the IG Publisher to use that template extension.</p>
<p>The extension is a folder under the IG root folder ( [igroot] ), containing a "package" folder, which contains:</p>
<ol>
<li>a) a package.json defining the new template and the base template - see below</li>
<li>b) the files for the extended template</li>
</ol>
<p>The ImplementationGuide publisher builds the template in the [igroot]/template folder, first fetching all the files from the base, then adding, replacing, or appending the files that exist in the "package" folder in the extension.</p>
<p>To know more about the contents of package.json: <a href="https://wiki.hl7.org/index.php?title=FHIR_IG_publisher_templates#package.5Cpackage.json">https://wiki.hl7.org/index.php?title=FHIR_IG_publisher_templates#package.5Cpackage.json</a></p>
<a name="changing"></a>
<h3>Changing the custom template</h3>
<ul>
<li>Adding or changing images to the template</li>
<li>Adding html content</li>
<li>Changing colors</li>
<li>etc.</li>
</ul>
<p>To create the package.json, you might find it easiest to copy the one from the "HL7" official template<br /> <a href="https://github.com/HL7/ig-template-fhir/blob/master/package/package.json">https://github.com/HL7/ig-template-fhir/blob/master/package/package.json</a></p>
<p></p>
<p>Changing the template simply means adding files which will be added to the template, or that will replace or append those files arleady in the template.</p>
<ul>
<li>When the custom template has a file that does not exist in the base, this file from the custom template gets added to the template</li>
<li>When the custom template has a file that exists in the base, the base file gets replaced by the file from the custom template</li>
<li>When the custom template has a file named _append.xyz , the content of this file is added to the file named xyz in the base</li>
<li>(A custom template with no files simply does not change the base templates)</li>
</ul>
<p></p>
<p>The HL7 official template (used exclusively for Implementation Guides published by HL7 International) extends the FHIR base template and can be checked as an example.</p>
<p><a href="https://github.com/HL7/ig-template-fhir">https://github.com/HL7/ig-template-fhir</a></p>
<p></p>
<a name="setup"></a>
<h4>Setting up the local custom template</h4>
<p>The first step is to define the custom template's package.json. It must have a unique name, and declare a base (and dependency on) the base template. For example, if we want a template called "myTemplate", the package.json could look like:</p>
<pre>{
 "name": "myTemplate",
 "version": "0.1",
 "type": "fhir.template",
 "license": "CC0-1.0",
 "description": "My FHIR Template",
 "base": "hl7.fhir.template",
 "dependencies": {
 "hl7.fhir.template": "0.0.5"
 }
}
</pre>
<a name="example"></a>
<h3>Example:</h3>
<a name="icon"></a>
<h4>Adding an icon to the template</h4>
<ol>
<li>Within your local template folder (e.g. myTemplate), create a path "content/assets/images"</li>
<li>Inside the images folder put some sort of icon that you"d like in header to your implementation guides (call it for example "myIcon.png") - make sure you have a license to use the image</li>
<li>Supplement the header for the template to point to your icon:
<ol>
<li>Within your local template folder (e.g. myTemplate), create a path "includes"</li>
<li>Create a text file called "_append.fragment-header.html"</li>
<li>In that file put an XHTML fragment that looks like this:</li>
</ol>
</li>
</ol>
<pre>     &lt;div id="hl7-nav"&gt; 
     &lt;a id="hl7-logo" no-external="true" href="yourprojectwebsite.html"&gt;
     &lt;img height="50" alt="Visit MyProject" src="{{site.data.info.assets}}assets/images/myIcon.png.png"/&gt;
     &lt;/a&gt;
</pre>
<p></p>
<a name="css"></a>
<h4>Append a CSS to change the background color</h4>
<ol>
<li>Within your local template folder (e.g. myTemplate), create a path "content/assets/css"</li>
<li>Create a file called "myproject.css"</li>
<li>In that file, set the following styles:</li>
</ol>
<pre>      #segment-footer &gt; .container {background-color: #888888;}
      .navbar-inverse {background-color: #88888;}
</pre>
<ol start="4">
<li>Supplement the header for the template to point to your css</li>
<li>In the "includes" folder created in step 5, create a new file called "_append.fragment-css.html"</li>
<li>In that file add the following XHTML fragment:</li>
</ol>
<pre>     &lt;link href="{{site.data.info.assets}}assets/css/myproject.css" rel="stylesheet"/&gt;</pre>
To see the results - and you should do it often - run the IG Publisher</div>
</div>