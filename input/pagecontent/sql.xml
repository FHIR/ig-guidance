<?xml version="1.0" encoding="UTF-8"?>
<div xmlns="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir ../../input-cache/schemas/R5/fhir-single.xsd">
  <p>
    This page includes frequently asked questions related to the use of sql in implementation guides (IGs).  
  </p>
  <p>
    An SQL query can be performed and the result set displayed as a table in any narrative page. The SQL query is embedded in the 
    page like this:
  </p>

<pre>
{&#8203;% sql select name as Name, value as Value from Metadata %}
</pre>

<p>
This syntax will generate this table in the built IG:
</p>

{% sql select name as Name, value as Value from Metadata %}

<p>
The SQL engine that evaluates the queries is SQLite3. The database the SQL is evaluated against is built as part of building the IG, 
and is available for authors to peruse in the file <code>package.db</code> when the IG is built. 
</p>
<p>
Notes for Authors:
</p>
<ul>
 <li>Authors wishing to use SQL should use an SQLite3 tool to develop their queries against package.db</li>
 <li>The tables in the package.db are a moving target, but authors can find Metadata, Resources (a list of all resources), Concepts (Concepts defined in code systems), along with Designations, Properties and ConceptProperties. 
  In addition, authors will find the tables ValueSet and ConceptMap that contain the results of expanding value sets and checking concept maps.</li>
 <li>If authors wish to affect the output, they can include a display string before the display like this:</li>
</ul>

<pre>
{&#8203;% fmt:grid;a;md;l:0 sql select name as Name, Description, web as Value from Resources %}
</pre>


</div>